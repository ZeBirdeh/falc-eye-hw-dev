{{#section 'head'}}
<title>Register</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
{{/section}}
<div class="small-col"></div>
<div class="med-col register-form">
  <p class="title">Register a new account</p>
<p class="hidden error-notice" id="errormessage"></p>
<form method="post">
  <input name="username" id="username" type="text" placeholder="Username" />
  <input name="email" id="email" type="text" placeholder="Email" />
  <input name="password" id="password" type="password" placeholder="Password"/>
  <input type="submit" />
</form>
</div>

<script>
  var query = window.location.search.substring(1);
  var queryObj = {}
  var getVars = query.split("&").forEach(queryVal => {
    var kvPair = queryVal.split("=");
    queryObj[kvPair[0]] = kvPair[1];
  })
  var errnum = queryObj['e'];
  if (errnum == 1) { $('#errormessage').text("Invalid input.") }
  else if (errnum == 2) { $('#errormessage').text("There was an error when registering. Please try again") }
  else if (errnum == 3) { $('#errormessage').text("Username already taken") }
  if (errnum) { $('#errormessage').removeClass('hidden')}
</script>